group 'example.com'
version '0.0.1-ALPHA'

apply plugin: 'java'

def description = """
    Project: ${project.name}
    
    Author(s):  Rik de Graaff,
                Lucas Galery KÃ¤ser,
                Luc Kury,
                David Lengweiler
"""

sourceSets {
    main {
         java {
              srcDir 'app/src'
              }
         }
    test {
         java {
              srcDir 'app/src'
              }
         }
}

project.buildDir = '/app/build/'

//specifies source compatibility to Java 8
sourceCompatibility = 1.8

//adds maven central as a maven repository
repositories {
    mavenCentral()
    dependencies {
        testCompile 'junit:junit:4.12'
        compile 'junit:junit:4.12'
    }
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

/*
The following statements are respondible for:
    a) adding the compile-libraries to the jar
    b) setting the executable main class, so the jar is executable
 */
jar {
    from {
        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } // a) Adding dependencies to jar
    }
    manifest{
        attributes 'Main-Class': 'ch.unibas.cs.p9.fs18.example.HelloWorld' // b) Set main class
    }
}

/**
 * Example task which simply prints the project's description
 */
task info {
    doFirst{
        println "${description}"
    }
}

task wrapper(type: Wrapper) {
    gradleVersion = '2.0'
}
